# Telegraf Configuration
#
# Telegraf is entirely plugin driven. All metrics are gathered from the
# declared inputs, and sent to the declared outputs.
#
# Plugins must be declared in here to be active.
# To deactivate a plugin, comment out the name and any variables.
#
# Use 'telegraf -config telegraf.conf -test' to see what metrics a config
# file would generate.
#
# Environment variables can be used anywhere in this config file, simply prepend
# them with $. For strings the variable must be within quotes (ie, "$STR_VAR"),
# for numbers and booleans they should be plain (ie, $INT_VAR, $BOOL_VAR)



[global_tags]

 metrix_uuid = "$METRIX_UUID"

[agent]

  interval = "10s"
  round_interval = true
  metric_batch_size = 1000
  metric_buffer_limit = 10000
  collection_jitter = "0s"
  flush_jitter = "0s"
  precision = ""
  debug = false
  quiet = false
  logfile = ""
  hostname = ""
  omit_hostname = false


###############################################################################
#                            OUTPUT PLUGINS                                   #
###############################################################################


[[outputs.socket_writer]]

 address = "$ADDRESS"
 keep_alive_period = "10s"
 data_format = "json"


###############################################################################
#                            INPUT PLUGINS                                    #
###############################################################################

# https://github.com/influxdata/telegraf/tree/master/plugins/inputs/postgresql
[[inputs.postgresql]]
  address = "postgres://telegraf@localhost/someDB"
  databases = ["app_production", "testing"]
  ignored_databases = ["template0", "template1"]

#https://github.com/influxdata/telegraf/tree/master/plugins/inputs/syslog
[[inputs.syslog]]
  ## Protocol, address and port to host the syslog receiver.
  ## If no host is specified, then localhost is used.
  ## If no port is specified, 6514 is used (RFC5425#section-4.1).
  ##   ex: server = "tcp://localhost:6514"
  ##       server = "udp://:6514"
  ##       server = "unix:///var/run/telegraf-syslog.sock"
  server = "tcp://:6514"